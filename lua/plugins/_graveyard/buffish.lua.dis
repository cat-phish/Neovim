return {
  'mong8se/buffish.nvim',
  keys = {
    { '<leader>bm', function() _G.buffish_float() end, desc = 'Manage Buffers' },
  },
  config = function()
    -- Floating window logic
    _G.buffish_float = function()
      local width = math.floor(vim.o.columns * 0.8)
      local height = math.floor(vim.o.lines * 0.8)

      -- Create the window
      local win = vim.api.nvim_open_win(0, true, {
        relative = 'editor',
        width = width,
        height = height,
        col = math.floor((vim.o.columns - width) / 2),
        row = math.floor((vim.o.lines - height) / 2),
        border = 'rounded',
      })

      -- Open Buffish inside the window
      require('buffish').open()

      -- Buffer-local 'q' to quit for the float
      vim.keymap.set('n', 'q', '<cmd>bwipeout!<cr>', { buffer = true, silent = true })
    end
  end,
}
